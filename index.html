<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <title>HSV SUPERHELDEN</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://fonts.googleapis.com/css2?family=Fredoka+One&display=swap" rel="stylesheet">
  <style>
    @keyframes fadeIn {from{opacity:0;transform:translateY(30px);} to{opacity:1;transform:translateY(0);}}
    @keyframes push3d {0%{transform:scale(1);} 40%{transform:scale(1.08);} 100%{transform:scale(1);}}
    body {font-family:'Fredoka One',cursive;background-color:#0D1B3D;color:#FFF;display:flex;flex-direction:column;align-items:center;padding:20px;}
    .album {max-width:600px;width:100%;text-align:center;position:relative;animation:fadeIn 0.8s;}
    .cover-wrapper {position:relative;width:100%;cursor:pointer;margin-bottom:20px;animation:fadeIn 1.1s;}
    .cover {width:100%;border-radius:20px;box-shadow:0 6px 20px rgba(0,0,0,0.6);display:block;transition:transform 0.2s;}
    .cover-wrapper:hover .cover {transform:scale(1.04);}
    .cover-overlay {position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:4em;font-family:Arial,Helvetica,sans-serif;font-feature-settings:"liga" 0;color:#FFF;pointer-events:none;}
    h1 {margin:20px 0 10px 0;font-size:2em;text-transform:uppercase;text-align:center;animation:fadeIn 1.3s;}
    ul {list-style:none;padding:0;animation:fadeIn 1.6s;}
    li {background-color:#FFF;color:#0D1B3D;margin:10px 0;padding:15px;border-radius:15px;cursor:pointer;font-size:1.2em;transition:transform 0.2s,background-color 0.2s;}
    li:hover {background-color:#1b2f5e;color:#FFF;transform:scale(1.05);}
    li:active {animation:push3d 0.18s;}
    audio {width:100%;margin-top:20px;animation:fadeIn 2s;}
    .play-all {margin:20px auto;padding:15px 30px;border:none;border-radius:15px;background-color:#FFF;color:#0D1B3D;cursor:pointer;font-size:1.3em;display:flex;align-items:center;justify-content:center;gap:10px;transition:transform 0.2s,background-color 0.2s,color 0.2s;}
    .play-all:hover {background-color:#1b2f5e;color:#FFF;transform:scale(1.05);}
    .play-all:active {animation:push3d 0.17s;}
    button {font-family:inherit;border:none;border-radius:15px;background-color:#FFF;color:#0D1B3D;cursor:pointer;font-size:1.3em;padding:15px 30px;transition:transform 0.2s,background-color 0.2s,color 0.2s;margin:10px 0;display:inline-block;}
    button:hover {background-color:#1b2f5e;color:#FFF;transform:scale(1.05);}
    button:active {animation:push3d 0.17s;}
    @media (max-width:480px){
      .cover-overlay{font-size:3em;}
      li{font-size:1em;padding:12px;}
      .play-all{font-size:1.1em;padding:12px 20px;}
    }
  </style>
</head>
<body>
  <div class="album">
    <div class="cover-wrapper" onclick="toggleSong()">
      <img src="COVER/COVER.jpg" alt="cover" class="cover">
      <div class="cover-overlay" id="coverOverlay">&#9654;</div>
    </div>
    <h1>HSV SUPERHELDEN</h1>
    <button class="play-all" onclick="togglePlayAll()" id="playAllButton">
      <span id="playAllIcon">&#9654;</span> ABSPIELEN
    </button>
    <ul id="trackList">
      <li onclick="playTrack(0)">Die Geburt der HSV-Superhelden</li>
      <li onclick="playTrack(1)">Kapitel 1 – Nessa: Das Einhorn auf dem Rasen</li>
      <li onclick="playTrack(2)">Kapitel 2 – Henry: Das verschwundene Tor</li>
      <li onclick="playTrack(3)">Kapitel 3 – Emmi: Unsichtbar im Spielertunnel</li>
      <li onclick="playTrack(4)">Kapitel 4 – Amalia: Die Wahrheit im Mikrofon</li>
      <li onclick="playTrack(5)">Kapitel 5 – Fritz: Das große Pommes-Chaos</li>
      <li onclick="playTrack(6)">Kapitel 6 – Lasse: Die verschwundene Kugel</li>
      <li onclick="playTrack(7)">Kapitel 7 – Josie: Der Wind im Stadion</li>
      <li onclick="playTrack(8)">Kapitel 8 – Milea: Das Herzlicht in der Kabine</li>
      <li onclick="playTrack(9)">Kapitel 9 – Anna: Die rosa Raute</li>
      <li onclick="playTrack(10)">Kapitel 10 – Milo: Die Möwenrettung</li>
      <li onclick="playTrack(11)">Kapitel 11 – Jim: Der Beat gegen Bremen</li>
      <li onclick="playTrack(12)">Kapitel 12 – Dino Herrmann: Das Geheimnis des Maskottchens</li>
      <li onclick="playTrack(13)">Noch viele Abenteuer</li>
    </ul>
    <audio id="audioPlayer" controls preload="auto"></audio>
  </div>
  <script>
    const tracks = [
      "EINLEITUNG/einleitung full.mp3",
      "KAPITEL 1/KAPITEL 1 FULL.mp3",
      "KAPITEL 2/KAPITEL 2 FULL.mp3",
      "KAPITEL 3/KAPITEL 3 FULL.mp3",
      "KAPITEL 4/KAPITEL 4 FULL.mp3",
      "KAPITEL 5/KAPITEL 5 FULL.mp3",
      "KAPITEL 6/KAPITEL 6 FULL.mp3",
      "KAPITEL 7/KAPITEL 7 FULL.mp3",
      "KAPITEL 8/KAPITEL 8 FULL.mp3",
      "KAPITEL 9/KAPITEL 9 FULL.mp3",
      "KAPITEL 10/KAPITEL 10 FULL.mp3",
      "KAPITEL 11/KAPITEL 11 FULL.mp3",
      "KAPITEL 12/KAPITEL 12 FULL.mp3",
      "SCHLUSS/SCHLUSS FULL.mp3"
    ];
    const song = "SONG/SONG FULL.mp3";
    const player = document.getElementById("audioPlayer");
    const overlay = document.getElementById("coverOverlay");
    const playAllButton = document.getElementById("playAllButton");

    let allPlayState = 0; // 0=start, 1=playing, 2=stopped
    let playlistActive = false;
    let playlistIndex = 0;
    let songMode = false; // true wenn Song per Cover läuft

    // Track-Button
    function playTrack(index) {
      stopAll();
      player.src = tracks[index];
      player.play();
      overlay.textContent = "▶";
      playAllButton.innerHTML = `<span id="playAllIcon">&#9654;</span> ABSPIELEN`;
      allPlayState = 0;
    }

    // "Alles abspielen"-Button
    function togglePlayAll() {
      stopSong();
      overlay.textContent = "▶"; // Cover-Symbol zurücksetzen

      if (allPlayState === 0) {
        // Start: Song, dann Kapiteln
        songMode = false;
        playlistActive = true;
        player.src = song;
        player.play();
        playAllButton.innerHTML = `<span id="playAllIcon">❚❚</span> STOPP`;
        allPlayState = 1;
        player.onended = () => {
          playlistIndex = 0;
          playTrackPlaylist();
        };
      } else if (allPlayState === 1) {
        // Stoppen
        stopAll();
        playAllButton.innerHTML = `<span id="playAllIcon">&#9654;</span> ABSPIELEN`;
        allPlayState = 2;
      } else {
        // Reset & Abspielen von vorne
        songMode = false;
        playlistActive = true;
        player.src = song;
        player.play();
        playAllButton.innerHTML = `<span id="playAllIcon">❚❚</span> STOPP`;
        allPlayState = 1;
        player.onended = () => {
          playlistIndex = 0;
          playTrackPlaylist();
        };
      }
    }

    function playTrackPlaylist() {
      if (!playlistActive) return;
      player.src = tracks[playlistIndex];
      player.play();
      player.onended = () => {
        playlistIndex++;
        if (playlistIndex < tracks.length && playlistActive) {
          playTrackPlaylist();
        } else {
          stopAll();
          playAllButton.innerHTML = `<span id="playAllIcon">&#9654;</span> ABSPIELEN`;
          allPlayState = 0;
        }
      };
    }

    function stopAll() {
      playlistActive = false;
      player.pause();
      player.currentTime = 0;
      playAllButton.innerHTML = `<span id="playAllIcon">&#9654;</span> ABSPIELEN`;
      allPlayState = 0;
      songMode = false;
      overlay.textContent = "▶";
    }

    function stopSong() {
      if (songMode) {
        player.pause();
        player.currentTime = 0;
        overlay.textContent = "▶";
        songMode = false;
      }
    }

    // Cover-Button (nur Song)
    function toggleSong() {
      stopAll();
      allPlayState = 0;
      playAllButton.innerHTML = `<span id="playAllIcon">&#9654;</span> ABSPIELEN`;

      if (!songMode || player.paused) {
        // Start Song oder fortsetzen
        player.src = song;
        player.play();
        overlay.textContent = "❚❚";
        songMode = true;
        player.onended = () => {
          overlay.textContent = "▶";
          songMode = false;
        };
      } else {
        // Pause Song
        player.pause();
        overlay.textContent = "▶";
      }
    }
  </script>
</body>
</html>